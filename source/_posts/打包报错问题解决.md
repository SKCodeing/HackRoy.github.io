---
layout: xcode9
title: iOSè‡ªåŠ¨åŒ–æ‰“åŒ…æŠ¥é”™é—®é¢˜è§£å†³
date: 2017-10-12 13:01:49
tags: è‡ªåŠ¨åŒ–
---

>è¿™å‡ å¤©ç ”ç©¶ä¸‹iOSè‡ªåŠ¨åŒ–æ‰“åŒ…é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ğŸ˜‰

>è¯¦ç»†å†…å®¹è¯·é˜…è¯»å…¨æ–‡ğŸ˜†
	
	
#### é—®é¢˜1 ####
	
```
xcodebuild -workspace HuLaVenue.xcworkspace -scheme HLCG -configuration Debug clean -archivePath /ç›®å½•/HuLaVenue-dev-315 archive CODE_SIGN_IDENTITY=â€iPhone Developer: xxxxxxxxâ€ PROVISIONING_PROFILE=â€UUIDUUIDUUIDUUIDUUIDUUIDâ€

xcodebuild -exportArchive -archivePath /ç›®å½•/HuLaVenue-dev-315.xcarchive -exportPath /ç›®å½•/build -exportOptionsPlist /ç›®å½•/export-dev.plist

2017-09-21 15:18:04.806 xcodebuild[8273:56611] [MT] IDEDistribution: -[IDEDistributionLogging _createLoggingBundleAtPath:]: Created bundle at path â€˜/var/folders/d7/cpr_njpd7_gf29sww6x6k0pc0000gn/T/HLCG_2017-09-21_15-18-04.806.xcdistributionlogsâ€™.
2017-09-21 15:18:05.405 xcodebuild[8273:56611] [MT] IDEDistribution: Step failed: <IDEDistributionSigningAssetsStep: 0x7f820c1584e0>: Error Domain=IDEDistributionSigningAssetStepErrorDomain Code=0 â€œLocating signing assets failed.â€ UserInfo={NSLocalizedDescription=Locating signing assets failed., IDEDistributionSigningAssetStepUnderlyingErrors=(
â€œError Domain=IDEProvisioningErrorDomain Code=9 \â€\â€HLCG.app\â€ requires a provisioning profile with the Associated Domains and Push Notifications features.\â€ UserInfo={NSLocalizedDescription=\â€HLCG.app\â€ requires a provisioning profile with the Associated Domains and Push Notifications features., NSLocalizedRecoverySuggestion=Add a profile to the \â€provisioningProfiles\â€ dictionary in your Export Options property list.}â€
)}
error: exportArchive: â€œHLCG.appâ€ requires a provisioning profile with the Associated Domains and Push Notifications features.

Error Domain=IDEProvisioningErrorDomain Code=9 â€œâ€HLCG.appâ€ requires a provisioning profile with the Associated Domains and Push Notifications features.â€ UserInfo={NSLocalizedDescription=â€HLCG.appâ€ requires a provisioning profile with the Associated Domains and Push Notifications features., NSLocalizedRecoverySuggestion=Add a profile to the â€œprovisioningProfilesâ€ dictionary in your Export Options property list.}

** EXPORT FAILED **

Build step â€˜Execute shellâ€™ marked build as failure
Finished: FAILURE
```
1.è§£å†³åŠæ³•ï¼šç¼–è¾‘plistæ–‡ä»¶ æ·»åŠ 


```
<key>provisioningProfiles</key>
<dict> <key>com.hula.xxxxxx</key>
<string>HulaVenueDev</string> (æ­¤å¤„åå­—è·å¾—è§ä¸‹æ–‡)
</dict>
```
2.plist æºæ–‡ä»¶

```
?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>  
    <key>provisioningProfiles</key>
    <dict>
        <key>com.hula.xxxxxx</key>
        <string>HulaVenueDev</string>
    </dict>
    <key>compileBitcode</key>  
    <false/>
    <key>teamID</key>
    <string>teamIDteamIDteamID</string>
    <key>method</key>  
    <string>development</string> 
    <key>uploadSymbols</key>
    <true/> 
</dict>
</plist>
```
3.provisioningProfileåå¯ä»¥åœ¨apple deveploeråå°è·å¾—ã€‚ä¹Ÿå¯ä»¥åœ¨mobileprovisionæ–‡ä»¶ä¸­è·å¾—ã€‚
å¦‚å›¾ï¼š

![](http://res.sgfblog.com/uploads/2017/09/2.jpg?x-oss-process=image/resize,m_fill,w_768,h_357)
 æˆ– less dev.mobileprovision æ‰¾åˆ°Name 
![](http://res.sgfblog.com/uploads/2017/09/1-1.jpg?x-oss-process=image/resize,m_fill,w_768,h_598)

#### é—®é¢˜2 ####

```
** INTERNAL ERROR: Uncaught exception **
Uncaught Exception: -[__NSCFString objectForKeyedSubscript:]: unrecognized selector sent to instance 0x7fd4c8e38fd0
```
åŸå› åˆ†æï¼šExport Options plistæ–‡ä»¶é‡Œçš„æ ¼å¼ä¸å¯¹ï¼Œå¯¼è‡´å‚æ•°æ— æ³•è¯†åˆ«
è§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹Export Options plistæ–‡ä»¶é‡Œçš„æ ¼å¼